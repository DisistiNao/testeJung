<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Pesquisa Tipológica</title>
    <!-- Inclui Tailwind CSS para estilização rápida e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define a fonte Inter para todo o corpo */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Cor de fundo suave */
        }
        /* Estilização para a label de rádio personalizada */
        .radio-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 0.75rem 1rem; /* Aumenta um pouco o padding */
            border-radius: 0.75rem; /* Mais arredondado */
            transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s;
            border: 1px solid #d1d5db; /* Borda padrão */
            background-color: #ffffff; /* Fundo branco para as opções */
        }
        .radio-label:hover {
            background-color: #e5e7eb; /* Efeito hover */
            border-color: #a1a1aa; /* Borda mais escura no hover */
        }
        .radio-label input[type="radio"]:focus + .custom-radio-indicator {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5); /* Foco acessível */
        }
        /* Esconde o rádio padrão do navegador */
        .radio-label input[type="radio"] {
            display: none;
        }
        /* Estiliza o indicador de rádio personalizado (o círculo cinza) */
        .custom-radio-indicator {
            display: inline-block;
            width: 1.25rem; /* Tamanho do círculo */
            height: 1.25rem; /* Tamanho do círculo */
            border: 2px solid #9ca3af; /* Cor da borda do círculo */
            border-radius: 50%;
            margin-right: 0.75rem; /* Espaçamento entre o círculo e o texto */
            background-color: #fff; /* Fundo branco do círculo */
            position: relative;
            transition: all 0.2s ease-in-out;
            flex-shrink: 0; /* Evita que o círculo encolha */
        }
        /* Estilo para o preenchimento azul quando selecionado */
        .radio-label input[type="radio"]:checked + .custom-radio-indicator {
            border-color: #2563eb; /* Borda azul mais escura */
            background-color: #2563eb; /* Fundo azul do círculo */
        }
        /* Cria o ponto interno branco quando selecionado */
        .radio-label input[type="radio"]:checked + .custom-radio-indicator::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0.5rem; /* Tamanho do ponto interno */
            height: 0.5rem; /* Tamanho do ponto interno */
            border-radius: 50%;
            background-color: #fff; /* Cor do ponto interno */
        }

        /* Estilo para o texto das alternativas */
        .option-text {
            color: #374151; /* Cor de texto mais escura */
            line-height: 1.5; /* Altura da linha para melhor leitura */
        }

        /* Modal de resultados */
        .modal {
            display: none; /* Escondido por padrão */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6); /* Fundo semi-transparente */
            justify-content: center;
            align-items: center;
            padding: 1rem; /* Padding para telas menores */
        }
        .modal-content {
            background-color: #fff;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            max-width: 90%;
            width: 500px;
            text-align: center;
            position: relative;
            transform: translateY(0); /* Garante que o modal esteja visível */
            max-height: 90vh; /* Limita a altura do modal */
            overflow-y: auto; /* Adiciona scroll se o conteúdo for muito grande */
        }
        .close-button {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
        }
        .close-button:hover {
            color: #1f2937;
        }
    </style>
</head>
<body class="bg-gray-100 flex flex-col items-center py-8">
    <div class="container max-w-3xl mx-auto p-4 bg-white rounded-lg shadow-xl">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">Teste de Pesquisa Tipológica</h1>
        <p class="text-gray-600 text-center mb-8">Por favor, selecione uma opção para cada pergunta.</p>

        <form id="typology-test-form">
            <div id="questions-container" class="space-y-6">
                <!-- Perguntas serão injetadas aqui via JavaScript -->
            </div>

            <button type="submit" id="submit-test-button" class="mt-8 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition transform hover:scale-105">
                Computar Resultados
            </button>
        </form>
    </div>

    <!-- Modal de Resultados -->
    <div id="results-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('results-modal')">&times;</span>
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Seus Resultados</h2>
            <div id="results-content" class="text-left space-y-4">
                <!-- Resultados serão exibidos aqui -->
            </div>
            <button class="mt-6 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition transform hover:scale-105" onclick="closeModal('results-modal')">
                Fechar
            </button>
        </div>
    </div>

    <!-- Modal de Alerta/Erro -->
    <div id="alert-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('alert-modal')">&times;</span>
            <h2 class="text-2xl font-bold text-red-600 mb-4">Atenção!</h2>
            <p id="alert-message" class="text-gray-700 mb-6">Por favor, responda a todas as perguntas antes de finalizar o teste.</p>
            <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition transform hover:scale-105" onclick="closeModal('alert-modal')">
                OK
            </button>
        </div>
    </div>

    <script>
        // Array contendo todas as perguntas, opções e suas categorias
        const questionsData = [
            { id: 1, text: "Geralmente, quando acompanhado, você gosta de:", optionA: "Ouvir", optionB: "Falar", category: "introExtro" },
            { id: 2, text: "Fazendo face a um problema você:", optionA: "Primeiramente busca uma experiência prévia da questão", optionB: "Primeiro avalia a situação de tempo-lugar-pessoa, do momento", category: "introExtro" },
            { id: 3, text: "É de sua natureza:", optionA: "Pensar sobre as circunstâncias da vida", optionB: "Lançar-se à experiência delas", category: "introExtro" },
            { id: 4, text: "Você está mais interessado em saber:", optionA: "Porque uma pessoa tem uma maneira de ser", optionB: "Porque ela faz algo.", category: "introExtro" },
            { id: 11, text: "Você se expressa melhor:", optionA: "Escrevendo", optionB: "Conversando", category: "introExtro" },
            { id: 12, text: "Você se preocupa com o significado oculto que possam ter as observações de outras pessoas?", optionA: "Frequentemente", optionB: "Não muito", category: "introExtro" },
            { id: 13, text: "Está pronto a se juntar a planejamentos de outrem:", optionA: "Raramente", optionB: "Frequentemente", category: "introExtro" },
            { id: 14, text: "Você prefere:", optionA: "Ler sobre algo", optionB: "Ouvir sobre alguma coisa", category: "introExtro" },
            { id: 21, text: "Ao elogiar, você é:", optionA: "Reservado", optionB: "Bastante aberto", category: "introExtro" },
            { id: 22, text: "Você geralmente adota uma atitude", optionA: "Mais geral", optionB: "Mais específica", category: "introExtro" },
            { id: 23, text: "Gosta de conversar com cabeleireiros, contínuos, porteiros, etc.", optionA: "Não", optionB: "Sim", category: "introExtro" },
            { id: 24, text: "A chamada ao telefone lhe é um prazer?", optionA: "Não", optionB: "Sim", category: "introExtro" },
            { id: 31, text: "Quantos amigos você tem?", optionA: "Poucos", optionB: "Muitos", category: "introExtro" },
            { id: 32, text: "Em relação às reações humanas, você está mais interessado em:", optionA: "Leis psicológicas gerais", optionB: "Peculiaridades individuais", category: "introExtro" },
            { id: 33, text: "Você preferiria ler:", optionA: "Teorias da personalidade", optionB: "Histórias de ação", category: "introExtro" },
            { id: 34, text: "Em combinações de cores, você prefere:", optionA: "Efeitos discretos", optionB: "Combinações alegres", category: "introExtro" },
            { id: 41, text: "O seu temperamento é:", optionA: "Deliberado", optionB: "Espontâneo", category: "introExtro" },
            { id: 42, text: "Escrevendo cartas pessoais você:", optionA: "Altera palavras aqui e ali", optionB: "Deixa-as prontas da maneira que surgem", category: "introExtro" },
            { id: 43, text: "Você gosta de encontrar pessoas estranhas?", optionA: "Não", optionB: "Sim", category: "introExtro" },
            { id: 44, text: "Em casa, você é comunicativo?", optionA: "Não muito", optionB: "Bastante", category: "introExtro" },
            { id: 51, text: "Em uma festa você está feliz com:", optionA: "Seis pessoas", optionB: "Doze pessoas", category: "introExtro" },
            { id: 52, text: "Quando obrigado a ficar de cama por uma semana ou duas, estando negócios e preocupações em ordem, ainda assim fica inquieto:", optionA: "Não", optionB: "Sim", category: "introExtro" },
            { id: 53, text: "Qual o tipo de relacionamento que mais lhe agrada?", optionA: "Seis amigos durante um dia", optionB: "Quatro amigos durante três dias", category: "introExtro" },
            { id: 54, text: "Quando uma pessoa tem uma ideia errada, você:", optionA: "Muda de assunto", optionB: "Tenta convertê-lo", category: "introExtro" },
            { id: 61, text: "Supondo-se que você goste de ambos, qual o tipo de pessoas com as quais você mais se relaciona?", optionA: "Pessoas reflexivas", optionB: "Comunicativas", category: "introExtro" },
            { id: 62, text: "Em pinturas ou desenhos o que mais lhe atrai?", optionA: "Forma", optionB: "Cor", category: "introExtro" },
            { id: 63, text: "Você prefere tomar decisões:", optionA: "Imediatamente", optionB: "Devagar", category: "introExtro" },
            { id: 64, text: "Presumindo que você conheça ambas as peças, você iria ao teatro ver:", optionA: "Hamlet", optionB: "Romeu e Julieta", category: "introExtro" },
            { id: 70, text: "Quando lendo, você prefere a informação:", optionA: "Linear e fixa", optionB: "Multifacetada e móvel", category: "introExtro" },
            { id: 71, text: "Você tende a desenvolver mais:", optionA: "Vida interior", optionB: "Relação com o meio", category: "introExtro" },
            { id: 72, text: "Você gosta de se ocupar com:", optionA: "Uma coisa de cada vez", optionB: "Várias coisas ao mesmo tempo", category: "introExtro" },
            { id: 73, text: "Pronto a seguir as ideias de alguém:", optionA: "Algumas vezes", optionB: "Usualmente", category: "introExtro" },
            { id: 78, text: "Que tipo de arte você prefere?", optionA: "Tradicional", optionB: "Moderna", category: "introExtro" },
            { id: 79, text: "O seu temperamento é", optionA: "Sério", optionB: "Alegre", category: "introExtro" },
            { id: 80, text: "Em suas amizades, você:", optionA: "Restringe seus amigos a uns poucos, com os quais você se torna relativamente confidente", optionB: "Tem um número grande de relações de amizade", category: "introExtro" },
            
            { id: 5, text: "Assumindo que sua vida financeira estivesse assegurada, você seguiria uma vocação:", optionA: "Imaginativa", optionB: "Prática", category: "intuiSensa" },
            { id: 6, text: "Você gosta de pintura:", optionA: "Abstrata", optionB: "Figurativa", category: "intuiSensa" },
            { id: 7, text: "Na prática, você é:", optionA: "Fortuito", optionB: "Sistemático", category: "intuiSensa" },
            { id: 15, text: "O seu impulso é ser:", optionA: "Confortável sobre seus compromissos", optionB: "Pontual", category: "intuiSensa" },
            { id: 16, text: "Quando um livro o desaponta:", optionA: "Procura um outro", optionB: "Termina de lê-lo, apesar de tudo", category: "intuiSensa" },
            { id: 17, text: "Quando viaja, você prepara a bagagem:", optionA: "No último instante", optionB: "Com bastante antecedência", category: "intuiSensa" },
            { id: 25, text: "Você deixa passar detalhes por causa de interesses imediatos?", optionA: "Frequentemente", optionB: "Às vezes", category: "intuiSensa" },
            { id: 26, text: "Lendo, você prefere:", optionA: "Poesia e ficção", optionB: "Acontecimentos comuns", category: "intuiSensa" },
            { id: 27, text: "Na percepção das coisas, você se impressiona:", optionA: "Pelo efeito geral da percepção", optionB: "Por detalhes importantes", category: "intuiSensa" },
            { id: 35, text: "Com relação a dinheiro, você:", optionA: "Gasta", optionB: "Economiza", category: "intuiSensa" },
            { id: 36, text: "A ordem lhe é:", optionA: "Um incômodo", optionB: "Uma necessidade", category: "intuiSensa" },
            { id: 37, text: "Você capta o essencial de uma pessoa após breve encontro?", optionA: "Sim", optionB: "Não", category: "intuiSensa" },
            { id: 45, text: "As atividades das férias, você:", optionA: "As vive a cada dia, sem prévio planejamento", optionB: "As planeja com antecedência", category: "intuiSensa" },
            { id: 46, text: "Suas conclusões ocorrem:", optionA: "Por inspiração imediata", optionB: "Por raciocínio deliberado", category: "intuiSensa" },
            { id: 47, text: "Morando só, você:", optionA: "Não se preocuparia muito com detalhes", optionB: "Manteria as coisas precisamente em ordem", category: "intuiSensa" },
            { id: 55, text: "Um problema se apresenta como um quarto fechado o qual só pode ser aberto pela intuição:", optionA: "Frequentemente", optionB: "Esporadicamente", category: "intuiSensa" },
            { id: 56, text: "Obras de artes, você as prefere:", optionA: "Com motivos pouco definidos", optionB: "Fotográficas", category: "intuiSensa" },
            { id: 57, text: "A limpeza em você é:", optionA: "Uma realização", optionB: "Nata", category: "intuiSensa" },
            { id: 65, text: "Você se encontra inexplicavelmente inquieto:", optionA: "Às vezes", optionB: "Muito raramente", category: "intuiSensa" },
            { id: 66, text: "Quando com insônia você toma um remédio?", optionA: "Algumas vezes", optionB: "Quase nunca", category: "intuiSensa" },
            { id: 67, text: "Contemplando a paisagem você percebe preponderantemente:", optionA: "Linhas gerais da paisagem e seu colorido", optionB: "Detalhes do céu, árvores, flores.", category: "intuiSensa" },
            { id: 74, text: "Em decoração, você prefere:", optionA: "Tonalidades opacas", optionB: "As cores primárias", category: "intuiSensa" },
            { id: 75, text: "Apresenta tendências a novos empreendimentos:", optionA: "Frequentemente", optionB: "Raramente", category: "intuiSensa" },
            { id: 76, text: "Quando escolhe o presente para alguém, você procura algo que:", optionA: "Se torne uma agradável surpresa", optionB: "Seja o que a pessoa goste", category: "intuiSensa" },
            
            { id: 8, text: "Admitindo-se que você seja discreto em suas relações, qual é o seu impulso real?", optionA: "Falar livremente", optionB: "Ser pouco comunicativo", category: "pensaSenti" },
            { id: 9, text: "Formando juízos, você:", optionA: "Procura um princípio geral que o oriente", optionB: "Declara sua avaliação pessoal sobre o problema", category: "pensaSenti" },
            { id: 10, text: "Lendo sobre o homem e a história dos povos em geral, você se prende a:", optionA: "Princípios e leis", optionB: "Comportamentos e avaliações", category: "pensaSenti" },
            { id: 18, text: "Na maioria das vezes, você prefere pessoas:", optionA: "Inteligentes", optionB: "Afáveis e sensíveis", category: "pensaSenti" },
            { id: 19, text: "É mais fácil para você investir:", optionA: "Em problemas sociais", optionB: "Em problemas de amigos", category: "pensaSenti" },
            { id: 20, text: "A habilidade nas relações sociais é para você uma questão de:", optionA: "Respeito aos pontos de vista de cada um", optionB: "Afeto e calor humano", category: "pensaSenti" },
            { id: 28, text: "Em seu raciocínio, você parte de:", optionA: "Regra geral para caso particular", optionB: "O inverso", category: "pensaSenti" },
            { id: 29, text: "Confrontando-se com o sofrimento de outras pessoas, é o seu impulso:", optionA: "Pesquisar a causa possível deste sofrimento", optionB: "Condoer-se", category: "pensaSenti" },
            { id: 30, text: "Quando você presencia uma discussão de duas pessoas, você espera que:", optionA: "Algo de bom advenha disto", optionB: "Elas parem a discussão", category: "pensaSenti" },
            { id: 38, text: "Quando suas opiniões diferem das do seu grupo você sente-se:", optionA: "Curioso", optionB: "Perturbado", category: "pensaSenti" },
            { id: 39, text: "Você está mais interessado:", optionA: "Na crença das pessoas", optionB: "No comportamento das pessoas", category: "pensaSenti" },
            { id: 40, text: "Você toma suas observações como fatos:", optionA: "A serem estudados", optionB: "A serem avaliados para um emprego prático", category: "pensaSenti" },
            { id: 48, text: "Quando você encontra pessoas, prefere discutir:", optionA: "A profissão que exercem", optionB: "Gostos pessoais", category: "pensaSenti" },
            { id: 49, text: "Você prefere para leitura:", optionA: "Biografias", optionB: "Leituras de ficção", category: "pensaSenti" },
            { id: 50, text: "A entrada de um edifício, você a prefere:", optionA: "Pequena", optionB: "Ampla", category: "pensaSenti" },
            { id: 58, text: "Você permaneceria em um vestíbulo de hotel bem decorado em:", optionA: "Azul", optionB: "Vermelho", category: "pensaSenti" },
            { id: 59, text: "Uma vez escolhido um objetivo, você se torna:", optionA: "Tenaz", optionB: "Influenciável para novas metas", category: "pensaSenti" },
            { id: 60, text: "Gosta de colecionar objetos:", optionA: "Sim", optionB: "Não", category: "pensaSenti" },
            { id: 68, text: "Você escolhe amigos:", optionA: "Por seus interesses", optionB: "Por várias razões", category: "pensaSenti" },
            { id: 69, text: "Você prefere objetos:", optionA: "Amarelos", optionB: "Verdes", category: "pensaSenti" },
            { id: 77, text: "Você sempre tem um relógio em sua cabeça?", optionA: "Não", optionB: "Sim", category: "pensaSenti" },
            { id: 81, text: "Tomada uma opinião, você:", optionA: "Tende a alterá-la posteriormente, quando recebe novas informações", optionB: "Tende a ser mais rígido.", category: "pensaSenti" }
        ];

        const questionsContainer = document.getElementById('questions-container');
        const typologyTestForm = document.getElementById('typology-test-form');
        const resultsModal = document.getElementById('results-modal');
        const resultsContent = document.getElementById('results-content');
        const alertModal = document.getElementById('alert-modal');
        const alertMessage = document.getElementById('alert-message');

        /**
         * Gera dinamicamente os elementos HTML para cada pergunta do teste.
         * Cada pergunta possui um número, o texto da pergunta e duas opções de rádio (A e B).
         */
        function renderQuestions() {
            questionsData.forEach(question => {
                const questionDiv = document.createElement('div');
                questionDiv.id = `question-${question.id}`;
                questionDiv.className = 'bg-gray-50 p-6 rounded-lg shadow-sm mb-4 border border-gray-200';
                questionDiv.innerHTML = `
                    <p class="text-lg font-semibold text-gray-700 mb-4">${question.id}. ${question.text}</p>
                    <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
                        <label class="radio-label flex-1">
                            <input type="radio" name="q${question.id}" value="A" required>
                            <span class="custom-radio-indicator"></span>
                            <span class="option-text">${question.optionA}</span>
                        </label>
                        <label class="radio-label flex-1">
                            <input type="radio" name="q${question.id}" value="B">
                            <span class="custom-radio-indicator"></span>
                            <span class="option-text">${question.optionB}</span>
                        </label>
                    </div>
                `;
                questionsContainer.appendChild(questionDiv);
            });
        }

        /**
         * Exibe um modal na tela com uma mensagem específica.
         * @param {string} modalId - O ID do elemento modal a ser exibido.
         * @param {string} message - A mensagem a ser exibida dentro do modal de alerta.
         */
        function showModal(modalId, message = '') {
            const modal = document.getElementById(modalId);
            if (modalId === 'alert-modal' && message) {
                alertMessage.textContent = message;
            }
            modal.style.display = 'flex'; // Usa flex para centralizar o conteúdo
        }

        /**
         * Fecha um modal específico.
         * @param {string} modalId - O ID do elemento modal a ser fechado.
         */
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.style.display = 'none';
        }

        /**
         * Processa o formulário, coleta as respostas e calcula os resultados.
         * Exibe os resultados em um modal ou um alerta se nem todas as perguntas forem respondidas.
         * @param {Event} event - O evento de submissão do formulário.
         */
        typologyTestForm.addEventListener('submit', function(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            const answers = {};
            let allAnswered = true;

            // Coleta as respostas e verifica se todas foram respondidas
            questionsData.forEach(question => {
                const selectedOption = document.querySelector(`input[name="q${question.id}"]:checked`);
                if (selectedOption) {
                    answers[question.id] = selectedOption.value;
                } else {
                    allAnswered = false;
                    // Opcional: Rola a tela para a primeira pergunta não respondida
                    document.getElementById(`question-${question.id}`).scrollIntoView({ behavior: 'smooth', block: 'center' });
                    return; // Sai do loop early para focar na primeira pergunta sem resposta
                }
            });

            if (!allAnswered) {
                showModal('alert-modal', 'Por favor, responda a todas as perguntas antes de finalizar o teste.');
                return;
            }

            // Inicializa contadores para cada categoria
            const results = {
                introExtro: { A: 0, B: 0 },
                intuiSensa: { A: 0, B: 0 },
                pensaSenti: { A: 0, B: 0 }
            };

            // Calcula os votos para cada categoria
            questionsData.forEach(question => {
                const answer = answers[question.id];
                if (answer) {
                    results[question.category][answer]++;
                }
            });

            // Formata e exibe os resultados
            resultsContent.innerHTML = `
                <div class="mb-4">
                    <h3 class="text-xl font-bold text-gray-700">Introversão (A) / Extroversão (B)</h3>
                    <p class="text-gray-600">Votos A: <span class="font-semibold text-blue-600">${results.introExtro.A}</span></p>
                    <p class="text-gray-600">Votos B: <span class="font-semibold text-blue-600">${results.introExtro.B}</span></p>
                </div>
                <div class="mb-4">
                    <h3 class="text-xl font-bold text-gray-700">Intuição (A) / Sensação (B)</h3>
                    <p class="text-gray-600">Votos A: <span class="font-semibold text-blue-600">${results.intuiSensa.A}</span></p>
                    <p class="text-gray-600">Votos B: <span class="font-semibold text-blue-600">${results.intuiSensa.B}</span></p>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-gray-700">Pensamento (A) / Sentimento (B)</h3>
                    <p class="text-gray-600">Votos A: <span class="font-semibold text-blue-600">${results.pensaSenti.A}</span></p>
                    <p class="text-gray-600">Votos B: <span class="font-semibold text-blue-600">${results.pensaSenti.B}</span></p>
                </div>
            `;
            showModal('results-modal'); // Exibe o modal de resultados
        });

        // Renderiza as perguntas quando a página é carregada
        window.onload = renderQuestions;
    </script>
</body>
</html>
